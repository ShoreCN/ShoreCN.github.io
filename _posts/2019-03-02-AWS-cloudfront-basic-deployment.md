---
title: AWS CloudFront CDN加速功能初步应用
date: 2019-03-02 22:46:49
categories:
- 架构
tags: 
- 云计算
---

## 简介
Amazon CloudFront 是一项快速内容分发网络 (CDN) 服务，可以安全地以低延迟和高传输速度向全球客户分发数据、视频、应用程序和 API。

## 使用场景
Amazon CloudFront的使用场景不仅于如
- 静态资源缓存
	- 默认提供多层缓存和区域性边缘缓存站点，可在对象尚未缓存在边缘站点时缩短延迟并降低来源服务器上的负载。缓存静态内容可为您提供所需的性能和规模，以便在浏览者访问您的站点时为其提供快速可靠的访问体验。
- 动态内容和API加速
	- 
- 直播/视频加速
	- 以持续的高吞吐量来流式处理您的媒体内容（包括预录制文件和现场直播），从而满足您向全球浏览者分发媒体内容的需求。
- 提升安全性
	- CloudFront 可与 AWS Shield 无缝集成以提供第 3/4 层 DDoS 缓解，并可与 AWS WAF 集成以提供第 7 层防护。
- 软件分发
	- 无论您的用户在何处，您都可以通过内容分发网络让您的软件在边缘可用。CDN 的高数据传输速率可加快您的二进制文件的分发速度，从而改善客户体验并降低成本。

## 准备
### 部署服务
在使用Amazon CloudFront功能签,你应该已经有一些存储在Amazon云上的文件或者部署好的网站了.
下面我们以一个已经在AWS EC2上部署好的静态博客网站服务为例进行介绍.

## 使用
### 选择内容分发方式
- Web
	- 适用于加速静态和动态的网站内容
- RTMP
	- 适合使用 Adobe Flash Media Server 的 RTMP 协议的流媒体文件

大部分情况下都是选用web内容分发方式,我们这里是用于博客网站加速,所以选用的也是web内容分发方式.

### 创建分配
创建分配规则最主要的关注如下几个配置项:
- 源域名
	- 选择需要加速的资源来源,支持直接选择存储在AWS S3数据库之中的内容如果是自建网站,那么填写我们的网站域名即可.
- 源协议策略
	- 选择兼顾HTTP与HTTPS的协议策略,方便后续网站协议变更
- 端口
	- 根据自己的网络服务配置情况进行填写

其他的配置使用默认即可

### 使用内容分发

![](https://raw.githubusercontent.com/ShoreCN/ShoreCN.github.io/master/resource/2019-03-02-AWS-cloudfront-basic-deployment.png)
创建完内容分发配置之后,等待其状态变为已部署就可以使用了.
AWS CloudFront会重新分配一个域名,用户使用这个域名进行内容分发即可达到用户的最优访问效果了.

### 额外功能
Amazon CloudFront还提供了各种的报告和分析功能,用户可以通过Amazon提供的数据查看缓存使用的状态,包括请求数、字节数、HTTP状态、异常报告等等
